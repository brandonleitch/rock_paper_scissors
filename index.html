<!DOCTYPE html>
<html>
<head>
  <title>Rock Paper Scissors</title>
  <script>
  const ROCK = 0;
  const PAPER = 1;
  const SCISSORS = 2;

  const LOSE = 0;
  const TIE = 1;
  const WIN = 2;

  function game(){
    let score = 0;
    for(let i = 0; i < 5; i++){
      let play = -1;
      while(play == -1) {
        play = to_int(prompt("Rock, Paper, or Scissors?"));
      }
      computer = computer_play();
      console.log(results(play, computer));
      if(compare(play, computer) == WIN){
        score++;
      }
    }
    console.log("Final Score: " + score);
  }

  function computer_play(){
    return Math.floor(Math.random() * 3)
  }

  function compare(player, computer){
    if((player + 1) % 3 == computer) {
      return 0;
    }
    else if (player == computer) {
      return 1;
    }
    else {
      return 2;
    }
  }

  function results(player, computer){
    switch (compare(player, computer)) {
      case 0:
        return "You Lose! " + to_string(computer) + " Beats " + to_string(player) + "!";
        break;
      case 1:
        return "It's a tie!";
        break;
      case 2:
        return "You Win! " + to_string(player) + " Beats " + to_string(computer) + "!";
        break;
    }
  }

  function to_string(play){
    switch (play) {
      case 0:
        return "Rock"
        break;
      case 1:
        return "Paper"
        break;
      case 2:
        return "Scissors";
        break;
    }
  }

  function to_int(str){
    switch (str.toLowerCase()) {
      case "rock":
        return ROCK;
        break;
      case "paper":
        return PAPER;
        break;
      case "scissors":
        return SCISSORS;
        break;
      default:
        return -1;
    }
  }
  </script>
</head>
</html>
